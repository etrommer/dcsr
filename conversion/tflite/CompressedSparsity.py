# automatically generated by the FlatBuffers compiler, do not modify

# namespace: tflite

import flatbuffers
from flatbuffers.compat import import_numpy
np = import_numpy()

class CompressedSparsity(object):
    __slots__ = ['_tab']

    @classmethod
    def GetRootAs(cls, buf, offset=0):
        n = flatbuffers.encode.Get(flatbuffers.packer.uoffset, buf, offset)
        x = CompressedSparsity()
        x.Init(buf, n + offset)
        return x

    @classmethod
    def GetRootAsCompressedSparsity(cls, buf, offset=0):
        """This method is deprecated. Please switch to GetRootAs."""
        return cls.GetRootAs(buf, offset)
    @classmethod
    def CompressedSparsityBufferHasIdentifier(cls, buf, offset, size_prefixed=False):
        return flatbuffers.util.BufferHasIdentifier(buf, offset, b"\x54\x46\x4C\x33", size_prefixed=size_prefixed)

    # CompressedSparsity
    def Init(self, buf, pos):
        self._tab = flatbuffers.table.Table(buf, pos)

    # CompressedSparsity
    def RowOffsets(self, j):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(4))
        if o != 0:
            a = self._tab.Vector(o)
            return self._tab.Get(flatbuffers.number_types.Int16Flags, a + flatbuffers.number_types.UOffsetTFlags.py_type(j * 2))
        return 0

    # CompressedSparsity
    def RowOffsetsAsNumpy(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(4))
        if o != 0:
            return self._tab.GetVectorAsNumpy(flatbuffers.number_types.Int16Flags, o)
        return 0

    # CompressedSparsity
    def RowOffsetsLength(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(4))
        if o != 0:
            return self._tab.VectorLen(o)
        return 0

    # CompressedSparsity
    def RowOffsetsIsNone(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(4))
        return o == 0

    # CompressedSparsity
    def DeltaIndices(self, j):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(6))
        if o != 0:
            a = self._tab.Vector(o)
            return self._tab.Get(flatbuffers.number_types.Uint8Flags, a + flatbuffers.number_types.UOffsetTFlags.py_type(j * 1))
        return 0

    # CompressedSparsity
    def DeltaIndicesAsNumpy(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(6))
        if o != 0:
            return self._tab.GetVectorAsNumpy(flatbuffers.number_types.Uint8Flags, o)
        return 0

    # CompressedSparsity
    def DeltaIndicesLength(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(6))
        if o != 0:
            return self._tab.VectorLen(o)
        return 0

    # CompressedSparsity
    def DeltaIndicesIsNone(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(6))
        return o == 0

    # CompressedSparsity
    def GroupMinimums(self, j):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(8))
        if o != 0:
            a = self._tab.Vector(o)
            return self._tab.Get(flatbuffers.number_types.Int8Flags, a + flatbuffers.number_types.UOffsetTFlags.py_type(j * 1))
        return 0

    # CompressedSparsity
    def GroupMinimumsAsNumpy(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(8))
        if o != 0:
            return self._tab.GetVectorAsNumpy(flatbuffers.number_types.Int8Flags, o)
        return 0

    # CompressedSparsity
    def GroupMinimumsLength(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(8))
        if o != 0:
            return self._tab.VectorLen(o)
        return 0

    # CompressedSparsity
    def GroupMinimumsIsNone(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(8))
        return o == 0

    # CompressedSparsity
    def Bitmaps(self, j):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(10))
        if o != 0:
            a = self._tab.Vector(o)
            return self._tab.Get(flatbuffers.number_types.Uint8Flags, a + flatbuffers.number_types.UOffsetTFlags.py_type(j * 1))
        return 0

    # CompressedSparsity
    def BitmapsAsNumpy(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(10))
        if o != 0:
            return self._tab.GetVectorAsNumpy(flatbuffers.number_types.Uint8Flags, o)
        return 0

    # CompressedSparsity
    def BitmapsLength(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(10))
        if o != 0:
            return self._tab.VectorLen(o)
        return 0

    # CompressedSparsity
    def BitmapsIsNone(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(10))
        return o == 0

    # CompressedSparsity
    def Bitmasks(self, j):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(12))
        if o != 0:
            a = self._tab.Vector(o)
            return self._tab.Get(flatbuffers.number_types.Uint16Flags, a + flatbuffers.number_types.UOffsetTFlags.py_type(j * 2))
        return 0

    # CompressedSparsity
    def BitmasksAsNumpy(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(12))
        if o != 0:
            return self._tab.GetVectorAsNumpy(flatbuffers.number_types.Uint16Flags, o)
        return 0

    # CompressedSparsity
    def BitmasksLength(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(12))
        if o != 0:
            return self._tab.VectorLen(o)
        return 0

    # CompressedSparsity
    def BitmasksIsNone(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(12))
        return o == 0

    # CompressedSparsity
    def Nnze(self):
        o = flatbuffers.number_types.UOffsetTFlags.py_type(self._tab.Offset(14))
        if o != 0:
            return self._tab.Get(flatbuffers.number_types.Uint32Flags, o + self._tab.Pos)
        return 0

def CompressedSparsityStart(builder): builder.StartObject(6)
def Start(builder):
    return CompressedSparsityStart(builder)
def CompressedSparsityAddRowOffsets(builder, rowOffsets): builder.PrependUOffsetTRelativeSlot(0, flatbuffers.number_types.UOffsetTFlags.py_type(rowOffsets), 0)
def AddRowOffsets(builder, rowOffsets):
    return CompressedSparsityAddRowOffsets(builder, rowOffsets)
def CompressedSparsityStartRowOffsetsVector(builder, numElems): return builder.StartVector(2, numElems, 2)
def StartRowOffsetsVector(builder, numElems):
    return CompressedSparsityStartRowOffsetsVector(builder, numElems)
def CompressedSparsityAddDeltaIndices(builder, deltaIndices): builder.PrependUOffsetTRelativeSlot(1, flatbuffers.number_types.UOffsetTFlags.py_type(deltaIndices), 0)
def AddDeltaIndices(builder, deltaIndices):
    return CompressedSparsityAddDeltaIndices(builder, deltaIndices)
def CompressedSparsityStartDeltaIndicesVector(builder, numElems): return builder.StartVector(1, numElems, 1)
def StartDeltaIndicesVector(builder, numElems):
    return CompressedSparsityStartDeltaIndicesVector(builder, numElems)
def CompressedSparsityAddGroupMinimums(builder, groupMinimums): builder.PrependUOffsetTRelativeSlot(2, flatbuffers.number_types.UOffsetTFlags.py_type(groupMinimums), 0)
def AddGroupMinimums(builder, groupMinimums):
    return CompressedSparsityAddGroupMinimums(builder, groupMinimums)
def CompressedSparsityStartGroupMinimumsVector(builder, numElems): return builder.StartVector(1, numElems, 1)
def StartGroupMinimumsVector(builder, numElems):
    return CompressedSparsityStartGroupMinimumsVector(builder, numElems)
def CompressedSparsityAddBitmaps(builder, bitmaps): builder.PrependUOffsetTRelativeSlot(3, flatbuffers.number_types.UOffsetTFlags.py_type(bitmaps), 0)
def AddBitmaps(builder, bitmaps):
    return CompressedSparsityAddBitmaps(builder, bitmaps)
def CompressedSparsityStartBitmapsVector(builder, numElems): return builder.StartVector(1, numElems, 1)
def StartBitmapsVector(builder, numElems):
    return CompressedSparsityStartBitmapsVector(builder, numElems)
def CompressedSparsityAddBitmasks(builder, bitmasks): builder.PrependUOffsetTRelativeSlot(4, flatbuffers.number_types.UOffsetTFlags.py_type(bitmasks), 0)
def AddBitmasks(builder, bitmasks):
    return CompressedSparsityAddBitmasks(builder, bitmasks)
def CompressedSparsityStartBitmasksVector(builder, numElems): return builder.StartVector(2, numElems, 2)
def StartBitmasksVector(builder, numElems):
    return CompressedSparsityStartBitmasksVector(builder, numElems)
def CompressedSparsityAddNnze(builder, nnze): builder.PrependUint32Slot(5, nnze, 0)
def AddNnze(builder, nnze):
    return CompressedSparsityAddNnze(builder, nnze)
def CompressedSparsityEnd(builder): return builder.EndObject()
def End(builder):
    return CompressedSparsityEnd(builder)
try:
    from typing import List
except:
    pass

class CompressedSparsityT(object):

    # CompressedSparsityT
    def __init__(self):
        self.rowOffsets = None  # type: List[int]
        self.deltaIndices = None  # type: List[int]
        self.groupMinimums = None  # type: List[int]
        self.bitmaps = None  # type: List[int]
        self.bitmasks = None  # type: List[int]
        self.nnze = 0  # type: int

    @classmethod
    def InitFromBuf(cls, buf, pos):
        compressedSparsity = CompressedSparsity()
        compressedSparsity.Init(buf, pos)
        return cls.InitFromObj(compressedSparsity)

    @classmethod
    def InitFromPackedBuf(cls, buf, pos=0):
        n = flatbuffers.encode.Get(flatbuffers.packer.uoffset, buf, pos)
        return cls.InitFromBuf(buf, pos+n)

    @classmethod
    def InitFromObj(cls, compressedSparsity):
        x = CompressedSparsityT()
        x._UnPack(compressedSparsity)
        return x

    # CompressedSparsityT
    def _UnPack(self, compressedSparsity):
        if compressedSparsity is None:
            return
        if not compressedSparsity.RowOffsetsIsNone():
            if np is None:
                self.rowOffsets = []
                for i in range(compressedSparsity.RowOffsetsLength()):
                    self.rowOffsets.append(compressedSparsity.RowOffsets(i))
            else:
                self.rowOffsets = compressedSparsity.RowOffsetsAsNumpy()
        if not compressedSparsity.DeltaIndicesIsNone():
            if np is None:
                self.deltaIndices = []
                for i in range(compressedSparsity.DeltaIndicesLength()):
                    self.deltaIndices.append(compressedSparsity.DeltaIndices(i))
            else:
                self.deltaIndices = compressedSparsity.DeltaIndicesAsNumpy()
        if not compressedSparsity.GroupMinimumsIsNone():
            if np is None:
                self.groupMinimums = []
                for i in range(compressedSparsity.GroupMinimumsLength()):
                    self.groupMinimums.append(compressedSparsity.GroupMinimums(i))
            else:
                self.groupMinimums = compressedSparsity.GroupMinimumsAsNumpy()
        if not compressedSparsity.BitmapsIsNone():
            if np is None:
                self.bitmaps = []
                for i in range(compressedSparsity.BitmapsLength()):
                    self.bitmaps.append(compressedSparsity.Bitmaps(i))
            else:
                self.bitmaps = compressedSparsity.BitmapsAsNumpy()
        if not compressedSparsity.BitmasksIsNone():
            if np is None:
                self.bitmasks = []
                for i in range(compressedSparsity.BitmasksLength()):
                    self.bitmasks.append(compressedSparsity.Bitmasks(i))
            else:
                self.bitmasks = compressedSparsity.BitmasksAsNumpy()
        self.nnze = compressedSparsity.Nnze()

    # CompressedSparsityT
    def Pack(self, builder):
        if self.rowOffsets is not None:
            if np is not None and type(self.rowOffsets) is np.ndarray:
                rowOffsets = builder.CreateNumpyVector(self.rowOffsets)
            else:
                CompressedSparsityStartRowOffsetsVector(builder, len(self.rowOffsets))
                for i in reversed(range(len(self.rowOffsets))):
                    builder.PrependInt16(self.rowOffsets[i])
                rowOffsets = builder.EndVector()
        if self.deltaIndices is not None:
            if np is not None and type(self.deltaIndices) is np.ndarray:
                deltaIndices = builder.CreateNumpyVector(self.deltaIndices)
            else:
                CompressedSparsityStartDeltaIndicesVector(builder, len(self.deltaIndices))
                for i in reversed(range(len(self.deltaIndices))):
                    builder.PrependUint8(self.deltaIndices[i])
                deltaIndices = builder.EndVector()
        if self.groupMinimums is not None:
            if np is not None and type(self.groupMinimums) is np.ndarray:
                groupMinimums = builder.CreateNumpyVector(self.groupMinimums)
            else:
                CompressedSparsityStartGroupMinimumsVector(builder, len(self.groupMinimums))
                for i in reversed(range(len(self.groupMinimums))):
                    builder.PrependByte(self.groupMinimums[i])
                groupMinimums = builder.EndVector()
        if self.bitmaps is not None:
            if np is not None and type(self.bitmaps) is np.ndarray:
                bitmaps = builder.CreateNumpyVector(self.bitmaps)
            else:
                CompressedSparsityStartBitmapsVector(builder, len(self.bitmaps))
                for i in reversed(range(len(self.bitmaps))):
                    builder.PrependUint8(self.bitmaps[i])
                bitmaps = builder.EndVector()
        if self.bitmasks is not None:
            if np is not None and type(self.bitmasks) is np.ndarray:
                bitmasks = builder.CreateNumpyVector(self.bitmasks)
            else:
                CompressedSparsityStartBitmasksVector(builder, len(self.bitmasks))
                for i in reversed(range(len(self.bitmasks))):
                    builder.PrependUint16(self.bitmasks[i])
                bitmasks = builder.EndVector()
        CompressedSparsityStart(builder)
        if self.rowOffsets is not None:
            CompressedSparsityAddRowOffsets(builder, rowOffsets)
        if self.deltaIndices is not None:
            CompressedSparsityAddDeltaIndices(builder, deltaIndices)
        if self.groupMinimums is not None:
            CompressedSparsityAddGroupMinimums(builder, groupMinimums)
        if self.bitmaps is not None:
            CompressedSparsityAddBitmaps(builder, bitmaps)
        if self.bitmasks is not None:
            CompressedSparsityAddBitmasks(builder, bitmasks)
        CompressedSparsityAddNnze(builder, self.nnze)
        compressedSparsity = CompressedSparsityEnd(builder)
        return compressedSparsity
